!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).redirectForLocale=n()}(this,(function(){"use strict";function e(e,n,i){if(n){const o=30484800;document.cookie=`${e}=${n};path=${i};Max-Age=${o}`}else document.cookie=`${e}=;path=${i};expires=Thu, 01 Jan 1970 00:00:01 GMT`}return function({defaultLocale:n,activeLanguages:i,cookieKey:o,basePath:t,useCombinedLanguageSearch:l,userAgentsToSkipRedirect:c}){if(null==t||!i||i.length<=1)return;const s=t.split("/");let a=s.length<2?"":s[s.length-1];i.includes(a)||(a="");const d=window.navigator.languages;let u;if(l)for(const e of d){if(i.includes(e)){u=e;break}if(i.includes(e.split("-")[0])){u=e.split("-")[0];break}}else if(u=d.find((e=>i.includes(e))),!u){const e=i.filter((e=>!e.includes("-")));u=d.map((e=>e.split("-")[0])).find((n=>e.includes(n)))}const f=new RegExp(`\\/${a}\\/?`),r=a?t.replace(f,""):t,p=document.cookie.split("; ").reduce(((e,n)=>{const[i,...o]=n.split("=");return e[i]=o.join("="),e}),{})[o],g=Boolean(p&&i.includes(p)),h="/",w=window.navigator.userAgent;if(w){if(c.some((e=>w.includes(e))))return void(a&&i.includes(a)?e(o,a,h):e(o,n,h))}if(a&&i.includes(a))e(o,g||u!==a?a:null,h);else if(/[?&]redirect=false/.test(window.location.search))e(o,n===u?null:n,h);else if(g){if(p!==n){const e=window.location.pathname.replace(t,`${r}/${p}`);window.location.pathname=e}}else if(u&&u!==n){const e=window.location.pathname.replace(t,`${r}/${u}`);window.location.pathname=e}}}));
